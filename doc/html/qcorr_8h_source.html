<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Qcorr: A Digital Image Correlation Program implemented in QT4: src/qcorr.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>src/qcorr.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef QCORR_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define QCORR_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QtGui/QMainWindow&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;../ui_qcorr.h&quot;</span>   <span class="comment">// UIC is always spiting out this form header files on the root of the project folder</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;imgLabel.h&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;targetImgLabel.h&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;corrmethod.h&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;controlswindow.h&quot;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">class </span>QImage;
<a name="l00012"></a>00012 <span class="keyword">class </span>QPainter;
<a name="l00013"></a>00013 <span class="keyword">class </span>QSize;
<a name="l00014"></a>00014 <span class="keyword">class </span>QPoint;
<a name="l00015"></a>00015 <span class="keyword">class </span>QString;
<a name="l00016"></a>00016 <span class="keyword">class </span>QActionGroup;
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;QtCore/QVector&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;QtGui/QRgb&gt;</span>
<a name="l00019"></a>00019 
<a name="l00052"></a><a class="code" href="classQcorr.html">00052</a> <span class="keyword">class </span><a class="code" href="classQcorr.html">Qcorr</a> : <span class="keyword">public</span> QMainWindow, <span class="keyword">private</span> Ui::QcorrClass
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054     Q_OBJECT
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">public</span>:
<a name="l00057"></a>00057     <a class="code" href="classQcorr.html">Qcorr</a>(QWidget *parent = 0);  
<a name="l00058"></a>00058     ~<a class="code" href="classQcorr.html">Qcorr</a>();  
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="keyword">private</span> Q_SLOTS:
<a name="l00061"></a>00061    <span class="keywordtype">void</span> closeWindows(); 
<a name="l00062"></a>00062    <span class="keywordtype">void</span> showControlsWindow(); 
<a name="l00063"></a>00063     <span class="keywordtype">void</span> browseLeftImage(); 
<a name="l00064"></a>00064     <span class="keywordtype">void</span> browseRightImage();
<a name="l00065"></a>00065     <span class="keywordtype">void</span> changeMouse(); 
<a name="l00066"></a>00066     <span class="keywordtype">void</span> viewMap();  
<a name="l00067"></a>00067     <span class="keywordtype">void</span> correlate(); 
<a name="l00068"></a>00068     <span class="keywordtype">void</span> disparity(); 
<a name="l00069"></a>00069     <span class="keywordtype">void</span> abortOperation(); 
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="keyword">private</span>:
<a name="l00075"></a>00075     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classImgLabel.html">ImgLabel</a>;
<a name="l00076"></a>00076 
<a name="l00080"></a>00080     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classControlsWindow.html" title="allows to modify parameters for the correlation operations, such as template size...">ControlsWindow</a>;
<a name="l00081"></a>00081 
<a name="l00086"></a>00086     <span class="keywordtype">void</span> displayImage(QImage *image, QLabel *label);
<a name="l00087"></a>00087 
<a name="l00092"></a>00092     <span class="keywordtype">void</span> displayImageLabel(QImage *image, <a class="code" href="classImgLabel.html">ImgLabel</a> *label);
<a name="l00093"></a>00093 
<a name="l00096"></a>00096     <span class="keywordtype">void</span> createActions();
<a name="l00097"></a>00097 
<a name="l00101"></a>00101     <span class="keywordtype">void</span> setEnableActions(<span class="keywordtype">bool</span> bEnable);
<a name="l00104"></a>00104     <span class="keywordtype">void</span> setImageLabels();
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="keywordtype">void</span> setEStop(); 
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00155"></a>00155     <span class="keywordtype">float</span> findCorrelation(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * imgTarget, <span class="keyword">const</span> <span class="keywordtype">int</span> nWI, <span class="keyword">const</span> <span class="keywordtype">int</span> nHI, <span class="keyword">const</span> <span class="keywordtype">int</span> nDepthI,
<a name="l00156"></a>00156           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * imgTemplate, <span class="keyword">const</span> <span class="keywordtype">int</span> nWT, <span class="keyword">const</span> <span class="keywordtype">int</span> nHT, <span class="keyword">const</span> <span class="keywordtype">int</span> nDepthT,
<a name="l00157"></a>00157           <span class="keywordtype">int</span> &amp;rnDx, <span class="keywordtype">int</span> &amp;rnDy, <span class="keywordtype">int</span> nMethod,
<a name="l00158"></a>00158           <span class="keywordtype">bool</span> bMultires = <span class="keyword">false</span>, <span class="keywordtype">int</span> nInitialXPosition = 0, <span class="keywordtype">int</span> nInitialYPosition = 0, <span class="keywordtype">int</span> nNumberOfRows = 0);
<a name="l00159"></a>00159 
<a name="l00167"></a>00167     <span class="keywordtype">float</span> * convertToGrayScaleFloat(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * pchImgOriginalBits, <span class="keywordtype">int</span> nSize, <span class="keywordtype">int</span> nDepth);
<a name="l00168"></a>00168 
<a name="l00173"></a>00173     <span class="keywordtype">bool</span> fileDumpQImage(<span class="keyword">const</span> QString &amp;fileName);
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="classQcorr.html#a53798525ce189307cf597e71aabca91b">00175</a>     <span class="keywordtype">int</span> <a class="code" href="classQcorr.html#a53798525ce189307cf597e71aabca91b" title="the resulting x-coordinate match obtained from correlation of a template against...">m_nXCorrelationCoordinate</a>; 
<a name="l00176"></a><a class="code" href="classQcorr.html#a29f34cc7b765d5a64856696c48bfc191">00176</a>     <span class="keywordtype">int</span> <a class="code" href="classQcorr.html#a29f34cc7b765d5a64856696c48bfc191" title="the resulting y-coordinate match obtained from correlation of a template against...">m_nYCorrelationCoordinate</a>;  
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classQcorr.html#a6509fcbf4cd8925aa109cc53e638b69a">00178</a>     <a class="code" href="classCorrMethod.html">CorrMethod</a> *<a class="code" href="classQcorr.html#a6509fcbf4cd8925aa109cc53e638b69a" title="Dialog Box to choose a correlation method.">m_corrMethodDialog</a>; 
<a name="l00179"></a><a class="code" href="classQcorr.html#a5b43654ac42b41b945cd58ce62b18ed0">00179</a>     <a class="code" href="classControlsWindow.html" title="allows to modify parameters for the correlation operations, such as template size...">ControlsWindow</a> *<a class="code" href="classQcorr.html#a5b43654ac42b41b945cd58ce62b18ed0" title="Dialog Box to modify correlation parameters such as template size and scan interval...">m_controlsWindow</a>; 
<a name="l00180"></a><a class="code" href="classQcorr.html#a3430716ddbe203f677095c163da87f86">00180</a>     QString <a class="code" href="classQcorr.html#a3430716ddbe203f677095c163da87f86" title="String that saves the path for the first file image that has been loaded.">initialName</a>;   
<a name="l00181"></a><a class="code" href="classQcorr.html#ae8bdd4be8a0c3023be34a1301b28c913">00181</a>     QImage *<a class="code" href="classQcorr.html#ae8bdd4be8a0c3023be34a1301b28c913" title="Left Panel&amp;#39;s Image (a.k.a. &amp;quot;reference image&amp;quot; when performing template...">m_leftImage</a>;   
<a name="l00182"></a><a class="code" href="classQcorr.html#aae1695d731f191c694186e00b96f469e">00182</a>     QImage *<a class="code" href="classQcorr.html#aae1695d731f191c694186e00b96f469e" title="Right Panel&amp;#39;s Image (a.k.a &amp;quot;target image&amp;quot;).">m_rightImage</a>;  
<a name="l00183"></a><a class="code" href="classQcorr.html#a5594d939890f10991da0009e4c32bea3">00183</a>     QImage *<a class="code" href="classQcorr.html#a5594d939890f10991da0009e4c32bea3" title="Template Image that is selected from the reference image (in the left panel) that...">m_templateImage</a>;  
<a name="l00184"></a><a class="code" href="classQcorr.html#ac7dc2785613864bea2d8bb0b5f009f36">00184</a>     QImage *<a class="code" href="classQcorr.html#ac7dc2785613864bea2d8bb0b5f009f36" title="Correlation Map resulting from the Template Matching action.">m_corrMapImage</a>;   
<a name="l00185"></a><a class="code" href="classQcorr.html#a731915641051962d6a03a31b772640d4">00185</a>     QImage *<a class="code" href="classQcorr.html#a731915641051962d6a03a31b772640d4" title="Disparity Map that results from the pixel disparities found between the left and...">m_disparityMapImage</a>; 
<a name="l00186"></a><a class="code" href="classQcorr.html#acadb3032fbf41f8f1b27067c2784efef">00186</a>     <a class="code" href="classImgLabel.html">ImgLabel</a> *<a class="code" href="classQcorr.html#acadb3032fbf41f8f1b27067c2784efef" title="label used to display the left image. This is sub-classed widget implemented with...">m_leftImage_label</a>; 
<a name="l00187"></a><a class="code" href="classQcorr.html#a8d1e1ab866a811003c435c45de1e958e">00187</a>     <a class="code" href="classTargetImgLabel.html">TargetImgLabel</a> *<a class="code" href="classQcorr.html#a8d1e1ab866a811003c435c45de1e958e" title="a sub-classed label widget implemented with the purpose of displaying the target...">m_targetImage_label</a>;  
<a name="l00188"></a><a class="code" href="classQcorr.html#a1bf4a70aa6c4e171f2e0613109bb57e9">00188</a>     QLabel *<a class="code" href="classQcorr.html#a1bf4a70aa6c4e171f2e0613109bb57e9" title="status label that updates the mouse-pointer&amp;#39;s position coordinates as it moves...">m_status_label</a>;   
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="classQcorr.html#afa1be55387e39ce5b81e72ecab75b5bc">00190</a>     QVector&lt;QRgb&gt; *<a class="code" href="classQcorr.html#afa1be55387e39ce5b81e72ecab75b5bc" title="8-bit gray-scale color table">m_grayColorTab</a>;  
<a name="l00191"></a>00191 
<a name="l00192"></a><a class="code" href="classQcorr.html#a8a7f00160ae46441cef038149cf28bdc">00192</a>     QPoint <a class="code" href="classQcorr.html#a8a7f00160ae46441cef038149cf28bdc" title="upper-left corner point where the correlation match was found">m_matchingPoint</a>;   
<a name="l00193"></a><a class="code" href="classQcorr.html#abc48bdd2110cfdaf7b98dde1cdf42f18">00193</a>     QSize <a class="code" href="classQcorr.html#abc48bdd2110cfdaf7b98dde1cdf42f18" title="the current template&amp;#39;s size as a QSize object">m_templateSize</a>;  
<a name="l00194"></a><a class="code" href="classQcorr.html#a3a964df80562c062d5f1f4f6cbf841bb">00194</a>     QActionGroup *<a class="code" href="classQcorr.html#a3a964df80562c062d5f1f4f6cbf841bb" title="group of menu actions for the mode of operation.">modes_actionGroup</a>;   
<a name="l00195"></a>00195 
<a name="l00196"></a><a class="code" href="classQcorr.html#a496beab48555a8c9abbd6f6aa48e52fb">00196</a>     QDialogButtonBox *<a class="code" href="classQcorr.html#a496beab48555a8c9abbd6f6aa48e52fb" title="A dialogue to stop the current correlation process.">m_eStopDialog</a>;   
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="classQcorr.html#ab5325b11a64e24eeb6b9bdc27a77d0ad">00198</a>     <span class="keywordtype">bool</span> <a class="code" href="classQcorr.html#ab5325b11a64e24eeb6b9bdc27a77d0ad" title="indicates that an image is loaded in the left panel">m_bHasLeftImage</a>;  
<a name="l00199"></a><a class="code" href="classQcorr.html#aa4afa1daa72ecf6caae74f6ced4ec251">00199</a>     <span class="keywordtype">bool</span> <a class="code" href="classQcorr.html#aa4afa1daa72ecf6caae74f6ced4ec251" title="indicates that an image is loaded in the right panel">m_bHasRightImage</a>; 
<a name="l00200"></a><a class="code" href="classQcorr.html#a40e40bfd5cc79d8abf6e7b41465f440e">00200</a>     <span class="keywordtype">bool</span> <a class="code" href="classQcorr.html#a40e40bfd5cc79d8abf6e7b41465f440e" title="indicates that a correlation map exists">m_bHasCorrMap</a>;    
<a name="l00201"></a><a class="code" href="classQcorr.html#a42ef5dadd6c1ff9f560de8cb1f43c2c6">00201</a>     <span class="keywordtype">bool</span> <a class="code" href="classQcorr.html#a42ef5dadd6c1ff9f560de8cb1f43c2c6" title="indicates that a disparity map exists">m_bHasDisparityMap</a>;    
<a name="l00202"></a><a class="code" href="classQcorr.html#adb31096514465f8c4a1993345d98f1eb">00202</a>     <span class="keywordtype">bool</span> <a class="code" href="classQcorr.html#adb31096514465f8c4a1993345d98f1eb" title="emergency stop for the">m_bEstop</a>;   
<a name="l00203"></a><a class="code" href="classQcorr.html#ab07379fbbd7be906023eb5ec4d555931">00203</a>     <span class="keywordtype">int</span> <a class="code" href="classQcorr.html#ab07379fbbd7be906023eb5ec4d555931" title="interval of scan traversal by the template">m_nScanInterval</a>;   
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="keyword">protected</span>:
<a name="l00206"></a>00206 <span class="comment">//    void paintEvent(QPaintEvent *);</span>
<a name="l00207"></a>00207 <span class="comment">//    void mousePressEvent(QMouseEvent *event);</span>
<a name="l00208"></a>00208 };
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">// TODO:</span>
<a name="l00212"></a>00212 <span class="comment">// Spacebar opens full screen mode on image.</span>
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="preprocessor">#endif // QCORR_H</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Dec 6 00:22:28 2009 for Qcorr: A Digital Image Correlation Program implemented in QT4 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
